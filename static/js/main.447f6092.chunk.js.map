{"version":3,"sources":["utils/ga.js","ui/pokemon/cmp-pokemon.js","ui/search/cmp-search.js","ui/page/cmp-page.js","ui/page/cnt-page.js","actions/pokemons.js","reducers/pokemons.js","reducers/index.js","index.js","store/configure-store.js"],"names":["ReactGA","initialize","Pokemon","pokemon","this","props","react_default","a","createElement","className","type","onClick","ga","event","category","action","label","id","style","backgroundImage","concat","name","PureComponent","Search","_ref","onChange","value","placeholder","autoFocus","Page","state","searchString","pokemonsIds","error","handleSearch","currentTarget","toLowerCase","trim","collection","_this","hardtack","set","maxAge","setState","Object","keys","filter","pokemonId","includes","_this2","getPokemons","then","payload","message","get","pageview","_this$state","_this$props","isFetched","pokemons","map","key","cmp_pokemon","cmp_search","Component","mapDispatchToProps","options","arguments","length","undefined","dispatch","_options$limit","limit","defineProperty","RSAA","endpoint","method","types","connect","initialState","combineReducers","objectSpread","results","reduce","accumulator","item","url","substring","store","middlewares","thunkMiddleware","apiMiddleware","composeEnhancers","compose","createStore","rootReducer","applyMiddleware","apply","configureStore","render","es","cnt_page","document","getElementById"],"mappings":"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","file":"static/js/main.447f6092.chunk.js","sourcesContent":["import ReactGA from 'react-ga'\n\nReactGA.initialize('UA-112044218-9')\n\nexport default ReactGA\n","import React, { PureComponent } from 'react'\nimport ga from '../../utils/ga'\n\nclass Pokemon extends PureComponent {\n  render() {\n    const { pokemon } = this.props\n\n    return (\n      <div className=\"pokemon\">\n        <button\n          type=\"button\"\n          className=\"pokemon__sprite\"\n          onClick={() => {\n            ga.event({\n              category: 'pokemon',\n              action: 'click',\n              label: pokemon.id\n            })\n          }}\n          style={{\n            backgroundImage: `url(${`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${\n              pokemon.id\n            }.png`})`\n          }}\n        />\n        <p className=\"pokemon__name\">{pokemon.name}</p>\n      </div>\n    )\n  }\n}\n\nexport default Pokemon\n","import React from 'react'\n\nconst Search = ({ onChange, value }) => (\n  <input\n    type=\"text\"\n    onChange={onChange}\n    value={value}\n    placeholder=\"Enter pokemon name...\"\n    autoFocus\n  />\n)\n\nexport default Search\n","import React, { Component } from 'react'\nimport hardtack from 'hardtack'\nimport Pokemon from '../pokemon/cmp-pokemon'\nimport Search from '../search/cmp-search'\nimport ga from '../../utils/ga'\n\nclass Page extends Component {\n  state = {\n    searchString: '',\n    pokemonsIds: [],\n    error: null\n  }\n\n  componentDidMount() {\n    this.props.getPokemons().then(action => {\n      if (action.error) {\n        return this.setState({\n          error: action.payload.message\n        })\n      }\n\n      const searchString = hardtack.get('searchString')\n      const { collection } = this.props\n\n      if (!searchString) {\n        return this.setState({\n          pokemonsIds: Object.keys(collection)\n        })\n      }\n\n      const pokemonsIds = Object.keys(collection).filter(pokemonId => {\n        const pokemon = collection[pokemonId]\n\n        return pokemon.name.includes(searchString)\n      })\n\n      this.setState({\n        pokemonsIds,\n        searchString\n      })\n    })\n\n    ga.pageview('/')\n  }\n\n  handleSearch = event => {\n    const value = event.currentTarget.value.toLowerCase().trim()\n    const { collection } = this.props\n\n    hardtack.set('searchString', value, {\n      maxAge: '31536000'\n    })\n\n    if (value === '') {\n      return this.setState({\n        pokemonsIds: Object.keys(collection),\n        searchString: value\n      })\n    }\n\n    const pokemonsIds = Object.keys(collection).filter(pokemonId => {\n      const pokemon = collection[pokemonId]\n\n      return pokemon.name.includes(value)\n    })\n\n    this.setState({\n      pokemonsIds,\n      searchString: value\n    })\n  }\n\n  render() {\n    const { searchString, pokemonsIds, error } = this.state\n    const { collection, isFetched } = this.props\n\n    const pokemons = pokemonsIds.map(pokemonId => {\n      const pokemon = collection[pokemonId]\n\n      return (\n        <li className=\"pokemons__item\" key={pokemon.id}>\n          <Pokemon pokemon={pokemon} />\n        </li>\n      )\n    })\n\n    return (\n      <div className=\"page\">\n        {error && <div className=\"page__error\">{error}</div>}\n        <div className=\"page__search\">\n          <Search onChange={this.handleSearch} value={searchString} />\n        </div>\n        {isFetched ? (\n          <p>Loading...</p>\n        ) : (\n          <ul className=\"pokemons\">{pokemons}</ul>\n        )}\n      </div>\n    )\n  }\n}\n\nexport default Page\n","import { connect } from 'react-redux'\nimport { getPokemons } from '../../actions/pokemons'\nimport Page from './cmp-page'\n\nfunction mapStateToProps(state) {\n  const { collection } = state.pokemons\n\n  return {\n    collection\n  }\n}\n\nconst mapDispatchToProps = {\n  getPokemons\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Page)\n","import { RSAA } from 'redux-api-middleware'\n\nexport const GET_POKEMONS_REQUEST = 'GET_POKEMONS_REQUEST'\nexport const GET_POKEMONS_SUCCESS = 'GET_POKEMONS_SUCCESS'\nexport const GET_POKEMONS_FAILURE = 'GET_POKEMONS_FAILURE'\n\nexport const getPokemons = (options = {}) => dispatch => {\n  const { limit = 784 } = options\n\n  return dispatch({\n    [RSAA]: {\n      endpoint: `https://pokeapi.co/api/v2/pokemon/?limit=${limit}`,\n      method: 'GET',\n      types: [\n        'GET_POKEMONS_REQUEST',\n        'GET_POKEMONS_SUCCESS',\n        'GET_POKEMONS_FAILURE'\n      ]\n    }\n  })\n}\n","import {\n  GET_POKEMONS_REQUEST,\n  GET_POKEMONS_SUCCESS,\n  GET_POKEMONS_FAILURE\n} from '../actions/pokemons'\n\nconst initialState = {\n  collection: {},\n  isFetched: false\n}\n\nexport default function(state = initialState, action) {\n  switch (action.type) {\n    case GET_POKEMONS_REQUEST:\n      return {\n        ...state,\n        isFetched: true\n      }\n\n    case GET_POKEMONS_SUCCESS:\n      return {\n        ...state,\n        collection: {\n          ...state.collection,\n          ...action.payload.results.reduce((accumulator, item) => {\n            const { url } = item\n            const id = url.substring(34, url.length - 1)\n\n            return {\n              ...accumulator,\n              [id]: {\n                id,\n                ...item\n              }\n            }\n          }, {})\n        },\n        isFetched: false\n      }\n\n    case GET_POKEMONS_FAILURE:\n      return {\n        ...state,\n        isFetched: false\n      }\n\n    default:\n      return state\n  }\n}\n","import { combineReducers } from 'redux'\nimport pokemons from './pokemons'\n\nexport default combineReducers({\n  pokemons\n})\n","import React from 'react'\nimport { render } from 'react-dom'\nimport { Provider } from 'react-redux'\nimport Page from './ui/page/cnt-page'\nimport configureStore from './store/configure-store'\n\nimport './style/main.css'\n\nconst store = configureStore()\n\nrender(\n  <Provider store={store}>\n    <Page />\n  </Provider>,\n  document.getElementById('root')\n)\n","import { createStore, applyMiddleware, compose } from 'redux'\nimport thunkMiddleware from 'redux-thunk'\nimport { apiMiddleware } from 'redux-api-middleware'\nimport { createLogger } from 'redux-logger'\nimport rootReducer from '../reducers'\n\nexport default function configureStore(initialState = {}) {\n  const middlewares = [thunkMiddleware, apiMiddleware]\n\n  let composeEnhancers = compose\n\n  if (process.env.NODE_ENV === 'development') {\n    if ('__REDUX_DEVTOOLS_EXTENSION_COMPOSE__' in window) {\n      composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n    }\n\n    const loggerMiddleware = createLogger()\n    middlewares.push(loggerMiddleware)\n  }\n\n  return createStore(\n    rootReducer,\n    initialState,\n    composeEnhancers(applyMiddleware(...middlewares))\n  )\n}\n"],"sourceRoot":""}